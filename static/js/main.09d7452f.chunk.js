(this.webpackJsonpspectacle_frontend=this.webpackJsonpspectacle_frontend||[]).push([[0],Array(33).concat([function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),r=n.n(c),o=n(16),i=n.n(o),s=(n(33),n(34),n(5)),d=n(6),u=(n(35),n.p+"static/media/eyeglass.9bc81714.svg"),l=function(t){var e=Object(d.f)();r.a.useEffect((function(){var t=s.a.to(".heading-main",{x:0,ease:"expo.out",duration:.4,stagger:.2}),e=s.a.to("#home-image",{scale:1,duration:.5,ease:"expo.out"}),n=s.a.timeline({});n.add(t),n.add(e)}),[]);return Object(a.jsxs)("div",{id:"heading-container",children:[Object(a.jsx)("p",{className:"heading heading-anim",children:"Care your"}),Object(a.jsx)("p",{className:"heading heading-bold heading-anim",children:"EYES"}),Object(a.jsx)("p",{className:"heading heading-anim",children:"With our beautiful"}),Object(a.jsx)("div",{id:"heading-main-div",children:["S","P","E","C","T","A","C","L","E"].map((function(t,e){return 0===e?Object(a.jsx)("p",{className:"heading-main heading-bold heading heading-main-first-letter",children:t},e):Object(a.jsx)("p",{className:"heading-main heading-bold heading",children:t},e)}))}),Object(a.jsx)("br",{}),Object(a.jsxs)("button",{id:"browse-button",onClick:function(){s.a.to("#browse-button",{scale:0,duration:.1,ease:"expo.out",onComplete:function(){return e.push("/spectacle-shop/browse")}})},children:[Object(a.jsx)("img",{src:u,alt:"glass"}),Object(a.jsx)("span",{children:"Browse"})]})]})},j=(n(40),n.p+"static/media/amico.1c75b379.svg"),f=function(t){return Object(a.jsx)("div",{id:"home-image-container",children:Object(a.jsx)("img",{src:j,alt:"homeimage",id:"home-image"})})},p=function(t){return Object(a.jsxs)("div",{id:"home-container",children:[Object(a.jsx)("div",{id:"home-left",children:Object(a.jsx)(l,{})}),Object(a.jsx)("div",{id:"home-right",children:Object(a.jsx)(f,{})})]})},b=n(4),h=n.p+"static/media/circle.a9d25873.svg",m=(n(41),function(){return r.a.useEffect((function(){s.a.to("#loader-container img",{rotate:"360deg",repeat:-1,duration:1})})),Object(a.jsxs)("div",{id:"loader-container",children:[Object(a.jsx)("img",{src:h,alt:"Loading"}),Object(a.jsx)("p",{children:"Loading"})]})}),x=n.p+"static/media/search.1c131e1a.svg",O=(n(42),function(t){var e=r.a.useState(""),n=Object(b.a)(e,2);n[0],n[1];return Object(a.jsxs)("div",{id:"search-container",children:[Object(a.jsx)("input",{type:"text",placeholder:"Search here...",onChange:t.onSearching}),Object(a.jsx)("img",{src:x,alt:"Search"})]})}),g=n(2),v=(n(43),function(t){var e="product/"+t.cardData.product_id,n=Object(d.f)();return r.a.useEffect((function(){g.v.to(".card-container",{scale:1,duration:.1,ease:"expo.out"})}),[t.cardData]),Object(a.jsxs)("div",{className:"card-container",onClick:function(){g.v.to(".card-container",{scale:0,duration:.1,ease:"expo.out",onComplete:function(){return n.push(e,!1)}})},children:[Object(a.jsx)("img",{src:t.cardData.image,alt:"card-img",className:"product-img"}),Object(a.jsxs)("div",{className:"card-info",children:[Object(a.jsx)("p",{className:"card-product-title",children:t.cardData.title}),Object(a.jsx)("p",{className:"card-product-other",children:t.cardData.colors}),Object(a.jsx)("p",{className:"card-product-other",children:t.cardData.country}),Object(a.jsx)("p",{className:"card-product-other",children:"$ "+t.cardData.price})]})]})}),y=(n(44),n(45),n.p+"static/media/delete.04516e7e.svg"),D=(n(46),function(t){var e=Object(d.f)();return Object(a.jsx)("button",{id:"proceed-button-container",onClick:function(){s.a.to("#proceed-button-container",{scale:0,duration:.2,ease:"expo.out",onComplete:function(){return e.push("/spectacle-shop/information")}})},children:"Proceed ($"+t.total+")"})}),E=function(t){var e=function(e,n){var a=document.getElementsByClassName("cart-items-container");s.a.to(a[e],{x:"-200%",opacity:0,backgroundColor:"rgb(231, 66, 66)",duration:.2,ease:"expo.out",onComplete:function(){!function(e){e.count=0,t.saveData(e)}(n),e!==a.length&&(a[e].style.transform="translate(0)",a[e].style.opacity=1,a[e].style.backgroundColor="white")}})};return Object(a.jsxs)("div",{id:"cart-layout-container",style:{display:t.display?"flex":"none"},children:[t.data.length>0?t.data.map((function(t,n){return Object(a.jsxs)("div",{className:"cart-items-container",children:[Object(a.jsx)("img",{src:t.image,alt:"producimage"}),Object(a.jsx)("p",{children:t.title}),Object(a.jsx)("p",{children:"-"+t.color}),Object(a.jsx)("p",{children:"x"+t.count}),Object(a.jsx)("p",{children:"$"+t.count*t.price}),Object(a.jsx)("img",{src:y,alt:"delete-icon",className:"delete-icon",onClick:function(){return e(n,t)}})]},n)})):null,t.data.length>0?Object(a.jsx)(D,{total:t.total}):null]})},N=(n(47),n.p+"static/media/cart.e3c885a7.svg"),w=function(t,e,n,a,c){fetch(t,{method:a,body:c,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return e(t)}),(function(t){return n(t)}))},C=function(t){var e=0;return t.forEach((function(t){e+=t.count*t.price})),e},S=function(t){var e=0;return t.forEach((function(t){e+=t.count})),e},k=function(t){var e=r.a.useState(!1),n=Object(b.a)(e,2),c=n[0],o=n[1],i=r.a.useState(S(t.data)),s=Object(b.a)(i,2),d=s[0],u=s[1],l=r.a.useState(C(t.data)),j=Object(b.a)(l,2),f=j[0],p=j[1];return r.a.useEffect((function(){u(S(t.data)),p(C(t.data))}),[t]),Object(a.jsxs)("div",{id:"cart-icon-container",children:[Object(a.jsx)("img",{src:N,alt:"cart-icon",onClick:function(){o(!c)}}),Object(a.jsx)("span",{style:{display:c?"none":"flex"},children:d}),Object(a.jsx)(E,{total:f,display:c,data:t.data,saveData:t.saveData})]})},I=(n(48),n.p+"static/media/notfound.b2cdedfb.svg"),P=function(t){return Object(a.jsxs)("div",{id:"not-found-container",children:[Object(a.jsx)("img",{src:I,alt:"Nothing found"}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"Nothing to browse..."})]})},B=function(t){var e=r.a.useState(!1),n=Object(b.a)(e,2),c=n[0],o=n[1],i=function(e){t.setData(e),o(!1)},d=function(t){return console.log(t)};return r.a.useEffect((function(){setTimeout((function(){s.a.to(".card-container",{opacity:1,ease:"expo.out",duration:.2,stagger:.2})}),500)}),[t.data]),Object(a.jsxs)("div",{id:"browse-content",children:[Object(a.jsxs)("div",{id:"search-place",children:[" ",Object(a.jsx)(O,{onSearching:function(t){o(!0);var e=t.target.value;""===e&&(e=" "),w("https://wahidsakib.pythonanywhere.com/api/product-search/"+e,i,d,"GET",null)}})," "]}),c?Object(a.jsx)("p",{style:{alignSelf:"center",marginTop:"2rem",color:"#323232"},children:"Searching..."}):Object(a.jsx)("div",{id:"browse-items",children:t.data.map((function(t,e){return Object(a.jsx)(v,{cardData:t},e)}))}),c||0!==t.data.length?null:Object(a.jsx)(P,{}),t.cartData.length>0?Object(a.jsx)(k,{data:t.cartData,saveData:t.saveData}):null]})},T=(n(49),n(11)),L="SAVE_DATA",A="DELETE_DATA",_=Object(T.b)((function(t){return{cartData:t}}),(function(t){return{saveData:function(e){return t({type:L,data:e})}}}))((function(t){var e=r.a.useState(!0),n=Object(b.a)(e,2),c=n[0],o=n[1],i=r.a.useState([]),d=Object(b.a)(i,2),u=d[0],l=d[1],j=r.a.useState(1),f=Object(b.a)(j,2),p=f[0],h=f[1],x=function(t){var e=[];u.forEach((function(t){e.push(t)})),t.forEach((function(t){e.push(t)})),l(e),0!==t.length&&(document.getElementById("browse-container").classList.add="load-config",s.a.to("#loader-container",{scale:2,duration:.1,ease:"expo.out",onComplete:function(){o(!1),document.getElementById("browse-container").classList.remove="load-config",g()}}))},O=function(t){return console.log(t)};r.a.useEffect((function(){w("https://wahidsakib.pythonanywhere.com/api/product-list/"+p,x,O,"GET",null)}),[p]);var g=function(){var t=document.getElementById("browse-container"),e=document.getElementById("browse-items");t.offsetHeight>e.offsetHeight?h(p+1):document.getElementById("browse-container").addEventListener("scroll",v)},v=function t(e){var n=document.getElementById("browse-items"),a=document.getElementById("browse-container");a.scrollTop+a.offsetHeight>=n.offsetHeight&&(a.removeEventListener("scroll",t),h(p+1))};return Object(a.jsxs)("div",{id:"browse-container",children:[c?Object(a.jsx)(m,{}):null,c?null:Object(a.jsx)(B,{page:p,setPage:h,setData:l,data:u,cartData:t.cartData,saveData:t.saveData})]})})),M=(n(51),n(52),function(t){var e=t.productCount,n=t.onPlusPressed,c=t.onMinusPressed;return Object(a.jsxs)("div",{id:"add-to-cart-container",children:[Object(a.jsx)("span",{children:"Add to cart"}),Object(a.jsxs)("div",{id:"cart-input",children:[Object(a.jsx)("span",{onClick:c,children:"-"}),Object(a.jsx)("input",{type:"text",value:e}),Object(a.jsx)("span",{onClick:n,children:"+"})]})]})}),G=(n(53),function(t){var e=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},n=r.a.useState(0),c=Object(b.a)(n,2),o=c[0],i=c[1],s=r.a.useState(0),d=Object(b.a)(s,2),u=d[0],l=d[1];return r.a.useEffect((function(){var n=function(t,n){if(console.log(t),e(t))return-1;var a=n.findIndex((function(e){return e.id===t.product_id&&e.color===t.colors[o]}));return-1===a?-1:n[a].count}(t.data,t.cartData);l(-1===n?0:n)}),[o]),e(t.data)?Object(a.jsx)("div",{id:"product-detail-container",children:"Nothing found"}):Object(a.jsxs)("div",{id:"product-detail-container",children:[Object(a.jsx)("img",{src:t.data.image,alt:"productimage"}),Object(a.jsxs)("div",{id:"product-detail-info",children:[Object(a.jsx)("p",{className:"product-detail-title info",children:t.data.title}),Object(a.jsx)("p",{className:"product-detail-other info",children:t.data.country}),Object(a.jsx)("p",{className:"product-detail-other info",children:"$"+t.data.price}),t.data.colors.map((function(t,e){return o===e?Object(a.jsx)("button",{className:"color-button selected-button info",onClick:function(){return i(e)},children:t},e):Object(a.jsx)("button",{className:"color-button info",onClick:function(){return i(e)},children:t},e)})),Object(a.jsx)(M,{productCount:u,onPlusPressed:function(){if(5!==u&&5!==function(t){var e=0;return t.forEach((function(t){e+=t.count})),e}(t.cartData)){var e={id:t.data.id,color:t.data.colors[o],title:t.data.title,count:u+1,image:t.data.image,price:t.data.price};t.saveData(e),l(u+1)}},onMinusPressed:function(){if(u>0){var e={id:t.data.id,color:t.data.colors[o],title:t.data.title,count:u-1,image:t.data.image,price:t.data.price};t.saveData(e),l(u-1)}}})]})]})}),$=(n(54),function(t){return r.a.useEffect((function(){s.a.to(".card-container",{opacity:1,ease:"expo.out",duration:.2,stagger:.2})})),Object(a.jsxs)("div",{id:"related-product-container",children:[Object(a.jsxs)("div",{id:"related-product-title-container",children:[Object(a.jsx)("p",{id:"related-product-title",children:"Related Product"}),Object(a.jsx)("div",{id:"related-product-hr"})]}),Object(a.jsx)("div",{className:"related-product-card",children:t.relatedproduct.length>0?t.relatedproduct.map((function(t,e){return Object(a.jsx)(v,{cardData:t},e)})):Object(a.jsx)(P,{})})]})}),F=function(t){return Object(a.jsxs)("div",{id:"detail-content-container",children:[Object(a.jsxs)("div",{id:"detail-content-upper",children:[" ",Object(a.jsx)(G,{data:t.data,cartData:t.cartData,saveData:t.saveData})," "]}),Object(a.jsx)("div",{id:"detail-content-lower",children:Object(a.jsx)($,{relatedproduct:t.relatedProduct})}),t.cartData.length>0?Object(a.jsx)(k,{data:t.cartData,saveData:t.saveData}):null]})},J=(n(55),Object(T.b)((function(t){return{cartData:t}}),(function(t){return{saveData:function(e){return t({type:L,data:e})}}}))((function(t){var e=Object(d.g)().productid,n=r.a.useState({}),c=Object(b.a)(n,2),o=c[0],i=c[1],s=r.a.useState([]),u=Object(b.a)(s,2),l=u[0],j=u[1],f=r.a.useState(!0),p=Object(b.a)(f,2),h=p[0],x=p[1],O=function(t){t[0];var e=t[1],n=t[2];i(e),j(n),x(!1)},g=function(t){return console.log(t)};return r.a.useEffect((function(){x(!0),w("https://wahidsakib.pythonanywhere.com/api/product-detail/"+e,O,g,"GET",null)}),[e]),Object(a.jsxs)("div",{id:"details-container",children:[h?Object(a.jsx)(m,{}):null,h?null:Object(a.jsx)(F,{relatedProduct:l,data:o,cartData:t.cartData,saveData:t.saveData})]})}))),R=(n(56),n(57),function(t){var e=r.a.createRef(),n=r.a.createRef();return Object(a.jsxs)("div",{className:"information-input-container",onFocus:function(t){s.a.to(e.current,{y:"-1.5rem",duration:.2,ease:"expo.out"})},onBlur:function(t){""===n.current.value&&s.a.to(e.current,{y:0,duration:.2,ease:"expo.out"})},children:[Object(a.jsx)("p",{ref:e,children:t.data.title}),Object(a.jsx)("input",{type:t.data.type,ref:n,id:t.data.title})]})}),H=(n(58),function(t){return Object(a.jsxs)("div",{className:"delivery-container",onClick:t.onClick,children:[Object(a.jsx)("input",{type:"checkbox",checked:t.checked,className:"inputs"}),Object(a.jsx)("span",{children:t.data.name})]})}),Y=(n(59),function(t){return t.errors.length>0?Object(a.jsx)("ul",{id:"errors-container",children:t.errors.map((function(t,e){return Object(a.jsx)("li",{children:"- "+t},e)}))}):null}),q=Object(T.b)((function(t){return{cartData:t}}),(function(t){return{saveData:function(e){return t({type:L,data:e})},deleteData:function(){return t({type:A})}}}))((function(t){var e=Object(d.f)(),n=r.a.useState(0),c=Object(b.a)(n,2),o=c[0],i=c[1],u=r.a.useState([]),l=Object(b.a)(u,2),j=l[0],f=l[1],p=[{title:"Name*",type:"text",errorMsg:"Name and address filed can not be empty"},{title:"Email*",type:"email",errorMsg:"Email field required and must be valid"},{title:"Phone*",type:"number",errorMsg:"Phone field required and must be valid with 11 digits"},{title:"Address*",type:"textarea",errorMsg:"Name and address filed can not be empty"}],h=[{name:"Cash on delivery",onClick:function(){},title:"cash"},{name:"Online Payment (Only sandbox)",onClick:function(){},title:"ssl"}],m=function(e){t.deleteData(),window.location.href=e.GatewayPageURL},x=function(t){return console.log(t)};return r.a.useEffect((function(){!function(t,e){var n=function(){var t=e.createElement("script"),n=e.getElementsByTagName("script")[0];t.src="https://sandbox.sslcommerz.com/embed.min.js?"+Math.random().toString(36).substring(7),n.parentNode.insertBefore(t,n)};t.addEventListener?t.addEventListener("load",n,!1):t.attachEvent("onload",n)}(window,document)}),[]),r.a.useEffect((function(){0===t.cartData.length&&e.replace("/browse")}),[]),Object(a.jsxs)("div",{id:"information-container",children:[Object(a.jsx)("p",{id:"information-title",children:"Your Information"}),Object(a.jsx)(Y,{errors:j}),p.map((function(t,e){return Object(a.jsx)(R,{data:t},e)})),h.map((function(t,e){return Object(a.jsx)(H,{data:t,checked:e===o,onClick:function(){return function(t){for(var e=document.getElementsByClassName("inputs"),n=0;n<e.length;n++)e[n].checked=!1;e[t].checked=!0,i(t)}(e)}},e)})),Object(a.jsxs)("button",{id:"information-order-button",onClick:function(n){var a=function(t,e){var n=!0,a=[];return t.forEach((function(t){if("Name*"===t.title||"Address*"===t.title){var e=document.getElementById(t.title);""===e.value?(n=!1,e.parentNode.style.borderColor="red",e.parentNode.style.boxShadow="1px 1px 10px 1px rgb(248, 150, 150)",a.push(t.errorMsg)):(e.parentNode.style.borderColor="#838282",e.parentNode.style.boxShadow="none")}else if("Email*"===t.title){var c=document.getElementById(t.title);/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(c.value).toLowerCase())?(c.parentNode.style.borderColor="#838282",c.parentNode.style.boxShadow="none"):(n=!1,c.parentNode.style.borderColor="red",c.parentNode.style.boxShadow="1px 1px 10px 1px rgb(248, 150, 150)",a.push(t.errorMsg))}else if("Phone*"===t.title){var r=document.getElementById(t.title);/^\d{11}$/.test(r.value)?(r.parentNode.style.borderColor="#838282",r.parentNode.style.boxShadow="none"):(n=!1,a.push(t.errorMsg),r.parentNode.style.borderColor="red",r.parentNode.style.boxShadow="1px 1px 10px 1px rgb(248, 150, 150)")}})),e(a),n}(p,f);if(a&&"cash"===h[o].title)t.deleteData(),s.a.to(n.target,{scale:0,duration:.2,ease:"expo.out",onComplete:function(){return e.push("/spectacle-shop/order-complete/done")}});else if(a&&"ssl"===h[o].title){var c={total:C(t.cartData)};w("https://wahidsakib.pythonanywhere.com/api/sslcommerz/",m,x,"POST",JSON.stringify(c))}},children:["Order(","$"+C(t.cartData),")"]})]})})),z=(n(60),n.p+"static/media/order-complete.9145c2d2.svg"),V=Object(T.b)(null,(function(t){return{deleteData:function(){return t({type:A})}}}))((function(t){var e=Object(d.g)().tranid,n=Object(d.f)(),c=r.a.createRef(),o=r.a.useState(!0),i=Object(b.a)(o,2),u=i[0],l=i[1],j=r.a.useState(!1),f=Object(b.a)(j,2),p=f[0],h=f[1],x=r.a.useState(""),O=Object(b.a)(x,2),g=O[0],v=O[1],y="",D="Your payment status is processing...",E="Invalid Payment ID",N="Your payment status- FAILED",C="Could not complete request",S=function(t,e,n){v(t),h(e),l(!1)},k=function(e){if("DONE"===e.APIConnect)if(e.no_of_trans_found>0){var n=e.element[e.no_of_trans_found-1].status;"VALIDATED"===n||"VALID"===n?(S(y,!0),t.deleteData()):S("PROCESSING"===n||"PENDING"===n?D:N,!1)}else S(E,!1);else S(C,!1)},I=function(t){return console.log(t)};return r.a.useEffect((function(){(h(!1),l(!0),"done"!==e)?w("https://wahidsakib.pythonanywhere.com/api/sslcommerz/tranid/"+e,k,I,"GET",null):(t.deleteData(),S(y,!0))}),[]),Object(a.jsxs)("div",{id:"order-complete-container",children:[u?Object(a.jsx)(m,{}):null,u||p?null:Object(a.jsx)("p",{children:g}),!u&&p?Object(a.jsxs)("div",{id:"order-complete-main-container",children:[Object(a.jsx)("img",{src:z,alt:"order-complete",ref:c}),Object(a.jsx)("p",{children:"Thank you for your order"}),Object(a.jsx)("button",{onClick:function(t){s.a.to(t.target,{scale:0,duration:.2,ease:"expo.out",onComplete:function(){return n.push("/spectacle-shop/browse")}})},children:"Browse other"})]}):null]})})),U=n(19),W=n(25),K=localStorage.getItem("cartData"),Q=null===K?[]:JSON.parse(K),X=function(t,e){var n=t.findIndex((function(t){return t.id===e.id&&t.color===e.color}));if(-1===n)return[].concat(Object(W.a)(t),[e]);if(t[n]=e,0===t[n].count){var a=[];t.forEach((function(t,e){e!==n&&a.push(t)})),t=a}return t},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:var n=X(t,e.data);return t=n,t=Object(W.a)(t),localStorage.setItem("cartData",JSON.stringify(t)),t;case A:return t=[],localStorage.setItem("cartData",JSON.stringify(t)),t;default:return t}},tt=n(12);var et=function(){var t=Object(U.b)(Z);return Object(a.jsx)(T.a,{store:t,children:Object(a.jsx)(tt.a,{children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/spectacle-shop/",exact:!0,component:p}),Object(a.jsx)(d.a,{path:"/spectacle-shop/browse",exact:!0,component:_}),Object(a.jsx)(d.a,{path:"/spectacle-shop/product/:productid",exact:!0,component:J}),Object(a.jsx)(d.a,{path:"/spectacle-shop/information",exact:!0,component:q}),Object(a.jsx)(d.a,{path:"/spectacle-shop/order-complete/:tranid",exact:!0,component:V}),Object(a.jsx)(d.a,{component:P})]})})})},nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(et,{})}),document.getElementById("root")),nt()}]),[[61,1,2]]]);
//# sourceMappingURL=main.09d7452f.chunk.js.map