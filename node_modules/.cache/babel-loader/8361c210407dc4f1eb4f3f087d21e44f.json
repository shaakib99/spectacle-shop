{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/wahid/Desktop/spectacle-shop-master/src/components/details/Product.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Addtocart from './Addtocart';\nimport '../../css/details/Product.css';\n\nconst Product = props => {\n  _s();\n\n  const findProductCount = (data, cartData) => {\n    console.log(data);\n\n    if (!isEmpty(data)) {\n      const findIndex = cartData.findIndex(d => d.id === data.product_id && d.color === data.colors[selectedIndex]);\n      return findIndex === -1 ? -1 : cartData[findIndex].count;\n    } else return -1;\n  };\n\n  const isEmpty = obj => {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) return false;\n    }\n\n    return true;\n  };\n\n  const findTotalItem = data => {\n    let total = 0;\n    data.forEach(d => {\n      total += d.count;\n    });\n    return total;\n  };\n\n  const onPlusPressed = () => {\n    if (productCount !== 5 && findTotalItem(props.cartData) !== 5) {\n      const obj = {\n        id: props.data.id,\n        color: props.data.colors[selectedIndex],\n        title: props.data.title,\n        count: productCount + 1,\n        image: props.data.image,\n        price: props.data.price\n      };\n      props.saveData(obj);\n      setProductCount(productCount + 1);\n    }\n  };\n\n  const onMinusPressed = () => {\n    if (productCount > 0) {\n      const obj = {\n        id: props.data.id,\n        color: props.data.colors[selectedIndex],\n        title: props.data.title,\n        count: productCount - 1,\n        image: props.data.image,\n        price: props.data.price\n      };\n      props.saveData(obj);\n      setProductCount(productCount - 1);\n    }\n  };\n\n  const [selectedIndex, setIndex] = React.useState(0);\n  const [productCount, setProductCount] = React.useState(0);\n  React.useEffect(() => {\n    const x = findProductCount(props.data, props.cartData);\n    setProductCount(x === -1 ? 0 : x);\n  }, [selectedIndex]);\n  return !isEmpty(props.data) ? /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"product-detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.data.image,\n      alt: 'productimage'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"product-detail-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-detail-title info\",\n        children: props.data.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-detail-other info\",\n        children: props.data.country\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-detail-other info\",\n        children: '$' + props.data.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), props.data.colors.map((d, index) => selectedIndex === index ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"color-button selected-button info\",\n        onClick: () => setIndex(index),\n        children: d\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"color-button info\",\n        onClick: () => setIndex(index),\n        children: d\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }, this)), /*#__PURE__*/_jsxDEV(Addtocart, {\n        productCount: productCount,\n        onPlusPressed: onPlusPressed,\n        onMinusPressed: onMinusPressed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"product-detail-container\",\n    children: \"Nothing found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Product, \"sq3JRm5wwcoH7IY1sPBkgWxPD60=\");\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/Users/wahid/Desktop/spectacle-shop-master/src/components/details/Product.js"],"names":["React","Addtocart","Product","props","findProductCount","data","cartData","console","log","isEmpty","findIndex","d","id","product_id","color","colors","selectedIndex","count","obj","prop","hasOwnProperty","findTotalItem","total","forEach","onPlusPressed","productCount","title","image","price","saveData","setProductCount","onMinusPressed","setIndex","useState","useEffect","x","country","map","index"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,+BAAP;;AACA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAAA;;AACvB,QAAMC,gBAAgB,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB;AACzCC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,QAAG,CAACI,OAAO,CAACJ,IAAD,CAAX,EAAkB;AACd,YAAMK,SAAS,GAAGJ,QAAQ,CAACI,SAAT,CAAoBC,CAAD,IAAMA,CAAC,CAACC,EAAF,KAASP,IAAI,CAACQ,UAAd,IAA4BF,CAAC,CAACG,KAAF,KAAYT,IAAI,CAACU,MAAL,CAAYC,aAAZ,CAAjE,CAAlB;AACA,aAAON,SAAS,KAAK,CAAC,CAAf,GAAmB,CAAC,CAApB,GAAwBJ,QAAQ,CAACI,SAAD,CAAR,CAAoBO,KAAnD;AACH,KAHD,MAII,OAAO,CAAC,CAAR;AACP,GAPD;;AAQA,QAAMR,OAAO,GAAIS,GAAD,IAAS;AACrB,SAAI,IAAIC,IAAR,IAAgBD,GAAhB,EAAqB;AACnB,UAAGA,GAAG,CAACE,cAAJ,CAAmBD,IAAnB,CAAH,EACE,OAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH,GAND;;AAOA,QAAME,aAAa,GAAGhB,IAAI,IAAG;AACzB,QAAIiB,KAAK,GAAG,CAAZ;AACAjB,IAAAA,IAAI,CAACkB,OAAL,CAAcZ,CAAD,IAAK;AACdW,MAAAA,KAAK,IAAIX,CAAC,CAACM,KAAX;AACH,KAFD;AAGA,WAAOK,KAAP;AACH,GAND;;AAOA,QAAME,aAAa,GAAG,MAAM;AACxB,QAAGC,YAAY,KAAK,CAAjB,IAAsBJ,aAAa,CAAClB,KAAK,CAACG,QAAP,CAAb,KAAkC,CAA3D,EAA6D;AACzD,YAAMY,GAAG,GAAG;AACRN,QAAAA,EAAE,EAAET,KAAK,CAACE,IAAN,CAAWO,EADP;AAERE,QAAAA,KAAK,EAAEX,KAAK,CAACE,IAAN,CAAWU,MAAX,CAAkBC,aAAlB,CAFC;AAGRU,QAAAA,KAAK,EAAEvB,KAAK,CAACE,IAAN,CAAWqB,KAHV;AAIRT,QAAAA,KAAK,EAAEQ,YAAY,GAAG,CAJd;AAKRE,QAAAA,KAAK,EAAExB,KAAK,CAACE,IAAN,CAAWsB,KALV;AAMRC,QAAAA,KAAK,EAAEzB,KAAK,CAACE,IAAN,CAAWuB;AANV,OAAZ;AAQAzB,MAAAA,KAAK,CAAC0B,QAAN,CAAeX,GAAf;AACAY,MAAAA,eAAe,CAACL,YAAY,GAAG,CAAhB,CAAf;AACH;AACJ,GAbD;;AAcA,QAAMM,cAAc,GAAG,MAAM;AACzB,QAAGN,YAAY,GAAG,CAAlB,EAAqB;AACjB,YAAMP,GAAG,GAAG;AACRN,QAAAA,EAAE,EAAET,KAAK,CAACE,IAAN,CAAWO,EADP;AAERE,QAAAA,KAAK,EAAEX,KAAK,CAACE,IAAN,CAAWU,MAAX,CAAkBC,aAAlB,CAFC;AAGRU,QAAAA,KAAK,EAAEvB,KAAK,CAACE,IAAN,CAAWqB,KAHV;AAIRT,QAAAA,KAAK,EAAEQ,YAAY,GAAG,CAJd;AAKRE,QAAAA,KAAK,EAAExB,KAAK,CAACE,IAAN,CAAWsB,KALV;AAMRC,QAAAA,KAAK,EAAEzB,KAAK,CAACE,IAAN,CAAWuB;AANV,OAAZ;AAQAzB,MAAAA,KAAK,CAAC0B,QAAN,CAAeX,GAAf;AACAY,MAAAA,eAAe,CAACL,YAAY,GAAG,CAAhB,CAAf;AACH;AACJ,GAbD;;AAcA,QAAM,CAACT,aAAD,EAAgBgB,QAAhB,IAA4BhC,KAAK,CAACiC,QAAN,CAAe,CAAf,CAAlC;AACA,QAAM,CAACR,YAAD,EAAeK,eAAf,IAAkC9B,KAAK,CAACiC,QAAN,CAAe,CAAf,CAAxC;AACAjC,EAAAA,KAAK,CAACkC,SAAN,CAAgB,MAAI;AAChB,UAAMC,CAAC,GAAG/B,gBAAgB,CAACD,KAAK,CAACE,IAAP,EAAYF,KAAK,CAACG,QAAlB,CAA1B;AACAwB,IAAAA,eAAe,CAAEK,CAAC,KAAK,CAAC,CAAP,GAAW,CAAX,GAAeA,CAAjB,CAAf;AACH,GAHD,EAGE,CAACnB,aAAD,CAHF;AAIA,SACI,CAACP,OAAO,CAACN,KAAK,CAACE,IAAP,CAAR,gBACI;AAAK,IAAA,EAAE,EAAC,0BAAR;AAAA,4BACI;AAAK,MAAA,GAAG,EAAEF,KAAK,CAACE,IAAN,CAAWsB,KAArB;AAA4B,MAAA,GAAG,EAAE;AAAjC;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,EAAE,EAAC,qBAAR;AAAA,8BACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA,kBAA0CxB,KAAK,CAACE,IAAN,CAAWqB;AAArD;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA,kBAA0CvB,KAAK,CAACE,IAAN,CAAW+B;AAArD;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA,kBAA0C,MAAIjC,KAAK,CAACE,IAAN,CAAWuB;AAAzD;AAAA;AAAA;AAAA;AAAA,cAHJ,EAIKzB,KAAK,CAACE,IAAN,CAAWU,MAAX,CAAkBsB,GAAlB,CAAsB,CAAC1B,CAAD,EAAG2B,KAAH,KACnBtB,aAAa,KAAKsB,KAAlB,gBACI;AAAQ,QAAA,SAAS,EAAC,mCAAlB;AAAkE,QAAA,OAAO,EAAE,MAAIN,QAAQ,CAACM,KAAD,CAAvF;AAAA,kBAAiG3B;AAAjG,SAA2D2B,KAA3D;AAAA;AAAA;AAAA;AAAA,cADJ,gBAEM;AAAQ,QAAA,SAAS,EAAC,mBAAlB;AAAkD,QAAA,OAAO,EAAE,MAAIN,QAAQ,CAACM,KAAD,CAAvE;AAAA,kBAAiF3B;AAAjF,SAA2C2B,KAA3C;AAAA;AAAA;AAAA;AAAA,cAHT,CAJL,eASI,QAAC,SAAD;AAAW,QAAA,YAAY,EAAIb,YAA3B;AAAyC,QAAA,aAAa,EAAID,aAA1D;AAAyE,QAAA,cAAc,EAAIO;AAA3F;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,gBAeI;AAAK,IAAA,EAAE,EAAC,0BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAhBR;AAkBH,CA3ED;;GAAM7B,O;;KAAAA,O;AA4EN,eAAeA,OAAf","sourcesContent":["import React from 'react'\nimport Addtocart from './Addtocart'\nimport '../../css/details/Product.css'\nconst Product = (props) => {\n    const findProductCount = (data, cartData) => {\n        console.log(data)\n        if(!isEmpty(data)){\n            const findIndex = cartData.findIndex((d)=> d.id === data.product_id && d.color === data.colors[selectedIndex])\n            return findIndex === -1 ? -1 : cartData[findIndex].count\n        }else\n            return -1\n    }\n    const isEmpty = (obj) => {\n        for(var prop in obj) {\n          if(obj.hasOwnProperty(prop)) \n            return false;\n        }\n        return true\n    }\n    const findTotalItem = data =>{\n        let total = 0\n        data.forEach((d)=>{\n            total += d.count\n        })\n        return total\n    } \n    const onPlusPressed = () => {\n        if(productCount !== 5 && findTotalItem(props.cartData) !== 5){\n            const obj = {\n                id: props.data.id,\n                color: props.data.colors[selectedIndex],\n                title: props.data.title,\n                count: productCount + 1,\n                image: props.data.image,\n                price: props.data.price\n            }\n            props.saveData(obj)\n            setProductCount(productCount + 1)\n        }\n    }\n    const onMinusPressed = () => {\n        if(productCount > 0 ){\n            const obj = {\n                id: props.data.id,\n                color: props.data.colors[selectedIndex],\n                title: props.data.title,\n                count: productCount - 1,\n                image: props.data.image,\n                price: props.data.price\n            }\n            props.saveData(obj)\n            setProductCount(productCount - 1)\n        }\n    }\n    const [selectedIndex, setIndex] = React.useState(0)\n    const [productCount, setProductCount] = React.useState(0)\n    React.useEffect(()=>{\n        const x = findProductCount(props.data,props.cartData)\n        setProductCount( x === -1 ? 0 : x)\n    },[selectedIndex])\n    return (\n        !isEmpty(props.data) ? (\n            <div id='product-detail-container'>\n                <img src={props.data.image} alt={'productimage'}/>\n                <div id='product-detail-info'>\n                    <p className='product-detail-title info'>{props.data.title}</p>\n                    <p className='product-detail-other info'>{props.data.country}</p>\n                    <p className='product-detail-other info'>{'$'+props.data.price}</p>\n                    {props.data.colors.map((d,index)=>(\n                        selectedIndex === index ? \n                            <button className='color-button selected-button info' key={index} onClick={()=>setIndex(index)}>{d}</button>\n                            : <button className='color-button info' key={index} onClick={()=>setIndex(index)}>{d}</button>\n                    ))}\n                    <Addtocart productCount = {productCount} onPlusPressed = {onPlusPressed} onMinusPressed = {onMinusPressed}/>\n                </div>\n            </div>\n        ) : <div id='product-detail-container'>Nothing found</div>\n    )\n}\nexport default Product"]},"metadata":{},"sourceType":"module"}