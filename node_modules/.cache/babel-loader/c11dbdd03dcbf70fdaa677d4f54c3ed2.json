{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/wahid/Desktop/spectacle-shop-master/src/pages/Browse.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { gsap } from 'gsap';\nimport Loader from '../components/Loader';\nimport Content from '../components/browse/Content';\nimport '../css/browse/Browse.css';\nimport { connect } from 'react-redux';\nimport { SAVE_DATA } from '../redux/actions/CartAction';\nimport { GET_LIST } from '../api';\nimport { fetchData } from '../utils/Helper';\n\nconst Browse = props => {\n  _s();\n\n  const [isLoading, setLoading] = React.useState(true);\n  const [data, setData] = React.useState([]);\n  const [page, setPage] = React.useState(1);\n\n  const onDataLoad = () => {\n    document.getElementById('browse-container').classList.add = 'load-config';\n    gsap.to('#loader-container', {\n      scale: 2,\n      duration: 0.1,\n      ease: 'expo.out',\n      onComplete: () => {\n        setLoading(false);\n        document.getElementById('browse-container').classList.remove = 'load-config';\n        addScrollListener();\n      }\n    });\n  };\n\n  const onSuccessData = d => {\n    let n = [];\n    data.forEach(dat => {\n      n.push(dat);\n    });\n    d.forEach(dat => {\n      n.push(dat);\n    });\n    setData(n);\n    if (d.length !== 0) onDataLoad();\n  };\n\n  const onError = data => console.log(data);\n\n  React.useEffect(() => {\n    const url = GET_LIST + page;\n    fetchData(url, onSuccessData, onError, 'GET', null);\n  }, [page]);\n\n  const addScrollListener = () => {\n    const y = document.getElementById('browse-container');\n    const x = document.getElementById('browse-items');\n\n    if (y.offsetHeight > x.offsetHeight) {\n      setPage(page + 1);\n    } else {\n      document.getElementById('browse-container').addEventListener('scroll', handleScroll);\n    }\n  };\n\n  const handleScroll = e => {\n    const x = document.getElementById('browse-items');\n    const y = document.getElementById('browse-container');\n\n    if (y.scrollTop + y.offsetHeight >= x.offsetHeight) {\n      y.removeEventListener('scroll', handleScroll);\n      setPage(page + 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"browse-container\",\n    children: [isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 27\n    }, this) : null, !isLoading ? /*#__PURE__*/_jsxDEV(Content, {\n      page: page,\n      setPage: setPage,\n      setData: setData,\n      data: data,\n      cartData: props.cartData,\n      saveData: props.saveData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 27\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Browse, \"A5Z5EzSWCGkUveQRoGwqe8Lw4ZQ=\");\n\n_c = Browse;\n\nconst mapStateToProps = state => {\n  return {\n    cartData: state\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveData: data => dispatch({\n      type: SAVE_DATA,\n      data: data\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Browse);\n\nvar _c;\n\n$RefreshReg$(_c, \"Browse\");","map":{"version":3,"sources":["/Users/wahid/Desktop/spectacle-shop-master/src/pages/Browse.js"],"names":["React","gsap","Loader","Content","connect","SAVE_DATA","GET_LIST","fetchData","Browse","props","isLoading","setLoading","useState","data","setData","page","setPage","onDataLoad","document","getElementById","classList","add","to","scale","duration","ease","onComplete","remove","addScrollListener","onSuccessData","d","n","forEach","dat","push","length","onError","console","log","useEffect","url","y","x","offsetHeight","addEventListener","handleScroll","e","scrollTop","removeEventListener","cartData","saveData","mapStateToProps","state","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {gsap} from 'gsap'\nimport Loader from '../components/Loader'\nimport Content from '../components/browse/Content'\nimport '../css/browse/Browse.css'\nimport {connect} from 'react-redux'\nimport {SAVE_DATA} from '../redux/actions/CartAction'\nimport {GET_LIST} from '../api'\nimport {fetchData} from '../utils/Helper'\nconst Browse = (props) => {\n    const [isLoading, setLoading] = React.useState(true)\n    const [data, setData] = React.useState([])\n    const [page, setPage] = React.useState(1)\n    const onDataLoad = () => {\n        document.getElementById('browse-container').classList.add = 'load-config'\n        gsap.to('#loader-container',{scale:2, duration:0.1, ease:'expo.out', onComplete:()=> {\n            setLoading(false)\n            document.getElementById('browse-container').classList.remove = 'load-config'\n            addScrollListener()\n        }})\n    }\n    const onSuccessData = (d)=>{\n        let n = []\n        data.forEach(dat=>{\n            n.push(dat)\n        })\n        d.forEach(dat=>{\n            n.push(dat)\n        })\n        setData(n)\n        if(d.length !== 0)\n            onDataLoad()\n    }\n    const onError = (data)=> console.log(data)\n    React.useEffect(()=>{\n        const url = GET_LIST + page\n        fetchData(url,onSuccessData,onError,'GET',null)\n    },[page])\n    const addScrollListener = ()=>{\n        const y = document.getElementById('browse-container')\n        const x = document.getElementById('browse-items')\n        if(y.offsetHeight > x.offsetHeight){\n            setPage(page + 1)\n        }else{\n            document.getElementById('browse-container').addEventListener('scroll',handleScroll)\n        }\n    }\n    const handleScroll = (e)=> {\n        const x = document.getElementById('browse-items')\n        const y = document.getElementById('browse-container')\n        if(y.scrollTop + y.offsetHeight >= x.offsetHeight){\n            y.removeEventListener('scroll', handleScroll)\n            setPage(page + 1)\n        }\n    }\n    return (\n        <div id='browse-container'>\n            {isLoading ? (<Loader/>) : null}\n            {!isLoading ? <Content page = {page} setPage ={setPage} setData = {setData} data = {data} cartData={props.cartData} saveData = {props.saveData}/> : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        cartData: state\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        saveData: (data)=> dispatch({type: SAVE_DATA, data:data})\n    }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(Browse)"]},"metadata":{},"sourceType":"module"}