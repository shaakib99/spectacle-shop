{"ast":null,"code":"import { SAVE_DATA, DELETE_DATA } from '../actions/CartAction';\nconst x = localStorage.getItem('cartData');\nconst cartState = x === null ? [] : JSON.parse(x);\n\nconst saveData = (state, data) => {\n  const index = state.findIndex(d => d.id === data.id && d.color === data.color);\n  if (index === -1) return [...state, data];else {\n    state[index] = data;\n\n    if (state[index].count === 0) {\n      let tmpState = [];\n      state.forEach((s, i) => {\n        if (i !== index) tmpState.push(s);\n      });\n      state = tmpState;\n    }\n\n    return state;\n  }\n};\n\nconst CartReducer = (state = cartState, action) => {\n  switch (action.type) {\n    case SAVE_DATA:\n      const x = saveData(state, action.data);\n      state = x;\n      state = [...state];\n      localStorage.setItem('cartData', JSON.stringify(state));\n      return state;\n\n    case DELETE_DATA:\n      state = [];\n      localStorage.setItem('cartData', JSON.stringify(state));\n      return state;\n\n    default:\n      return state;\n  }\n};\n\n_c = CartReducer;\nexport default CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["/Users/wahid/Desktop/spectacle-shop-master/src/redux/reducers/CartReducer.js"],"names":["SAVE_DATA","DELETE_DATA","x","localStorage","getItem","cartState","JSON","parse","saveData","state","data","index","findIndex","d","id","color","count","tmpState","forEach","s","i","push","CartReducer","action","type","setItem","stringify"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,WAAnB,QAAqC,uBAArC;AACA,MAAMC,CAAC,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAV;AACA,MAAMC,SAAS,GAAGH,CAAC,KAAK,IAAN,GAAa,EAAb,GAAkBI,IAAI,CAACC,KAAL,CAAWL,CAAX,CAApC;;AACA,MAAMM,QAAQ,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiB;AAC9B,QAAMC,KAAK,GAAGF,KAAK,CAACG,SAAN,CAAiBC,CAAD,IAAMA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAAd,IAAoBD,CAAC,CAACE,KAAF,KAAYL,IAAI,CAACK,KAA3D,CAAd;AACA,MAAGJ,KAAK,KAAK,CAAE,CAAf,EACI,OAAO,CAAC,GAAGF,KAAJ,EAAWC,IAAX,CAAP,CADJ,KAEI;AACAD,IAAAA,KAAK,CAACE,KAAD,CAAL,GAAeD,IAAf;;AACA,QAAGD,KAAK,CAACE,KAAD,CAAL,CAAaK,KAAb,KAAuB,CAA1B,EAA6B;AACzB,UAAIC,QAAQ,GAAG,EAAf;AACAR,MAAAA,KAAK,CAACS,OAAN,CAAc,CAACC,CAAD,EAAGC,CAAH,KAAO;AACjB,YAAGA,CAAC,KAAKT,KAAT,EACIM,QAAQ,CAACI,IAAT,CAAcF,CAAd;AACP,OAHD;AAIAV,MAAAA,KAAK,GAAGQ,QAAR;AACH;;AACD,WAAOR,KAAP;AACH;AACJ,CAhBD;;AAiBA,MAAMa,WAAW,GAAG,CAACb,KAAK,GAAGJ,SAAT,EAAoBkB,MAApB,KAA+B;AAC/C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKxB,SAAL;AACI,YAAME,CAAC,GAAGM,QAAQ,CAACC,KAAD,EAAQc,MAAM,CAACb,IAAf,CAAlB;AACAD,MAAAA,KAAK,GAAGP,CAAR;AACAO,MAAAA,KAAK,GAAG,CAAC,GAAGA,KAAJ,CAAR;AACAN,MAAAA,YAAY,CAACsB,OAAb,CAAqB,UAArB,EAAiCnB,IAAI,CAACoB,SAAL,CAAejB,KAAf,CAAjC;AACA,aAAOA,KAAP;;AACJ,SAAKR,WAAL;AACIQ,MAAAA,KAAK,GAAG,EAAR;AACAN,MAAAA,YAAY,CAACsB,OAAb,CAAqB,UAArB,EAAgCnB,IAAI,CAACoB,SAAL,CAAejB,KAAf,CAAhC;AACA,aAAOA,KAAP;;AACJ;AACI,aAAOA,KAAP;AAZR;AAcH,CAfD;;KAAMa,W;AAgBN,eAAeA,WAAf","sourcesContent":["import {SAVE_DATA, DELETE_DATA} from '../actions/CartAction'\nconst x = localStorage.getItem('cartData')\nconst cartState = x === null ? [] : JSON.parse(x)\nconst saveData = (state, data) => {\n    const index = state.findIndex((d)=> d.id === data.id && d.color === data.color)\n    if(index === - 1)\n        return [...state, data]\n    else{\n        state[index] = data\n        if(state[index].count === 0 ){\n            let tmpState = []\n            state.forEach((s,i)=>{\n                if(i !== index)\n                    tmpState.push(s)\n            })\n            state = tmpState\n        }\n        return state\n    }\n}\nconst CartReducer = (state = cartState, action) => {\n    switch(action.type){\n        case SAVE_DATA:\n            const x = saveData(state, action.data)\n            state = x\n            state = [...state]\n            localStorage.setItem('cartData', JSON.stringify(state))\n            return state\n        case DELETE_DATA:\n            state = []\n            localStorage.setItem('cartData',JSON.stringify(state))\n            return state\n        default:\n            return state\n    }\n}\nexport default CartReducer"]},"metadata":{},"sourceType":"module"}